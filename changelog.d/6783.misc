Decouples the variant logic from the vector module
